/*--------------------------------*/
/* autoportrait text nodes layout  */
/*--------------------------------*/

.autoportrait-nodes > li{
	display: grid;
	grid-template-columns: 1fr 1fr;
	grid-template-rows: auto auto auto;
}

.node-number{
	grid-column: 1 / 2;
	grid-row: 1 / 2;
	justify-self: start;
	align-self: end;
}

.node-date{
	grid-column: 1 / 2;
	grid-row: 3 / 4;
	justify-self: start;
}

.node-text{
	grid-column: 1 / 3;
	grid-row: 2 / 3;
}

.btn-like{
	grid-column: 2 / 3;
	grid-row: 1 / 2;
	justify-self: end;
}


@media screen and (min-width: $alternate-nodes-small) { 
	.autoportrait-nodes > li{
		grid-template-columns: fit-content(16rem) fit-content(16rem);
	}
}


@media screen and (min-width: $alternate-nodes-small + 8em) { 

	.autoportrait-nodes > li:nth-child(even){
		grid-template-columns: fit-content(16rem) fit-content(16rem);
		justify-content: end;
	}

	.autoportrait-nodes > li:nth-child(even) .node-date{
		grid-column: 2 / 3;
		justify-self: end;
	}

}

@media screen and (min-width: $alternate-nodes-medium) { 

	.autoportrait-nodes > li{
		grid-template-columns: fit-content(20rem) fit-content(20rem) 3.375rem;
		grid-template-rows: auto auto;
		grid-column-gap: 30px;
		justify-content: start;
	}

	.autoportrait-nodes > li:nth-child(even){
		grid-template-columns:  fit-content(20rem) fit-content(20rem) 3.375rem;
	}

	.node-number{
		grid-column: 1 / 2;
		grid-row: 1 / 2;
		justify-self: start;
		align-self: end;
	}

	.node-date{
		grid-column: 2 / 3;
		grid-row: 1 / 2;
		justify-self: end;
		align-self: end;
	}

	.node-text{
		grid-column: 1 / 3;
		grid-row: 2 / 3;
	}

	.btn-like{
		grid-column: 3 / 4;
		grid-row: 2 / 3;
		align-self: start;
	}

}

/*----------------------------------------*/
/* Autoprotrait text nodes general styles */ 
/*----------------------------------------*/

.autoportrait-nodes{
    margin: 0 0 100px 0;
  }

@media screen and (min-width: $alternate-nodes-small) { 
	.autoportrait-nodes{
    margin: 0 25px 120px 25px;
  }
}

@media screen and (min-width: $alternate-nodes-small + 12em) { 
	.autoportrait-nodes{
    margin: 0 15px 120px 15px;
  }
}

@media screen and (min-width: $alternate-nodes-medium) { 
  .autoportrait-nodes{
    margin: 0 20px 160px 30px;
  }
}

@media screen and (min-width: $alternate-nodes-wider) { 
  .autoportrait-nodes{
    margin: 0 30px 160px 40px;
  }
}

.autoportrait-nodes > li{
	font-family: "Cooper Lt BT W08 Regular", "Times New Roman", Times, serif;
	font-size: 1rem; /* 15px */
	line-height: 1.4;
	margin-bottom: 3rem;
}


@media screen and (min-width: $alternate-nodes-small + 8em) { 

	.autoportrait-nodes > li{
	  font-size: 1.1875rem; /* 19px */
	  line-height: 1.45;
	  margin-bottom: 5rem;
	}

}

@media screen and (min-width: $alternate-nodes-medium) { 

	.autoportrait-nodes > li{
	  font-size: 1.3125rem; /* 21px */
	  line-height: 1.45;
	  margin-bottom: 8rem;
	}

}

.autoportrait-nodes cite, .autoportrait-nodes i{
	font-family: "Cooper BT W03 Medium Italic", "Times New Roman", Times, serif;
}

.node-number{
	font-family: "Trade Gothic Bold Condensed No. 20", Arial, Helvetica, sans-serif;
	font-size: .875rem;
	line-height: 1;
	color: rgba(83, 99, 106, 1);
	text-shadow: 2px -2px 1px var(--emphasis-color);
	margin-bottom: 13px;
}

@media screen and (min-width: $alternate-nodes-medium) { 
	.node-number{
		font-size: 1.1875rem;
		margin-bottom: 24px;
	}
}

.node-date{
	font-family: "Trade Gothic Bold Condensed No. 20", Arial, Helvetica, sans-serif;
	color: rgba(83, 99, 106, .7);
	line-height: 1;
	text-transform: uppercase;
	font-size: 0.75rem;
	letter-spacing: 0.05rem;
	border: 2px solid rgba(216, 217, 219, .4);
	padding: 8px 10px 8px 12px;
	margin-top: 15px;
	margin-left: -4px;

}

.autoportrait-nodes > li:nth-child(even) .node-date{
	margin-left: 0;
	margin-right: -4px;
}

@media screen and (min-width: $alternate-nodes-medium) { 
	.node-date{
		font-size: 0.875rem;
		letter-spacing: 0;
		padding: 0;
		margin: 0 6px 25px 0;
		border: none;
	}
}

.btn-like{
	outline: none;
	box-sizing: border-box;
	padding: 0;
  border: none;
  font: inherit;
  background: transparent;
  color: inherit;
  cursor: pointer;
  font-family: "Trade Gothic Bold Condensed No. 20", Arial, Helvetica, sans-serif;
	font-size: .875rem;
	color: #5D636A;
	text-align: left;
	margin-right: 8px;
	margin-top: 1rem;
	margin-bottom: 13px;
	display: flex;
	flex-direction: row-reverse;
	position: relative;
}

.btn-like svg{
	width: 15px;
	height: 20px;
	margin-left: 6px;
}

.btn-like svg polygon{
	fill: var(--emphasis-color);
}

.btn-like:hover{
	color: #000;
}

.btn-like:hover svg path{
	fill: cyan;
}

.node-text-liked .btn-like:hover svg path{
	fill: #000;
}

/* button focus styles */
.btn-like:focus{	
	outline: none;
	color: #000;
	padding: 2px 4px 2px 6px;
	margin-top: 14px;
	margin-bottom: 11px;
	margin-right: 4px;
}
.btn-like::-moz-focus-inner{ border: 0; }

.btn-like::before{
	content: '';
	position: absolute;
	z-index: -1;
	top: -8px;
	left: calc(50% - 30px);
	width: 52px;
	height: 34px;
}	

.btn-like:focus::before{
	background: linear-gradient(var(--background-color), var(--background-color)) padding-box, 
	repeating-linear-gradient(-45deg, rgba(0,0,0,.2) 0, rgba(0,0,0,.2) 25%, transparent 0, transparent 50%);
	background-size: 4px 4px;
	border: 3px solid transparent;
}	

@media screen and (min-width: $alternate-nodes-medium) { 

	.btn-like{
		font-size: 1.1875rem;
		padding: 0 6px 0 0;
		margin-right: 0;
		margin-bottom: 0;
		margin-top: 1rem;
		flex-direction: column;
		align-items: center;
	}

	.btn-like svg{
		width: 42px;
		height: 58px;
		margin-left: 10px;
		margin-bottom: 3px;
	}

	.btn-like:focus{	
		outline: none;
		background: none;
		padding: 0 6px 0 0;
		border: none; 
		margin: 1rem 0 0 0;
	}

	.btn-like::before{
	  left: calc(50% - 35px);
	  width: 64px;
	  height: 100px;
	}

	.btn-like:focus svg path{
		fill: var(--emphasis-color);
		filter: url(#shadow);
	}

	.btn-like:focus svg path{ 
		stroke-dasharray: 2;
	}

}

/*-------------*/
/* Liked node  */
/*-------------*/

.node-text{
	padding: 0 6px;
	margin-left: -6px;
	margin-right: -6px;
}

.node-text-liked .node-text{
	padding: 0;
}

.node-text-liked .underline{
	-webkit-box-decoration-break: clone;
	box-decoration-break: clone;
	padding: 2px 6px 2px 6px;
	background: var(--emphasis-color);
}

.node-text-liked .btn-like:focus{	
	background: transparent;
}

.node-text-liked .btn-like svg polygon, .node-text-liked .btn-like:focus svg path{
	fill: #DDD;
}

.node-text-liked .btn-like:hover svg path{
	fill: var(--background-color);
}

/*----------------------------------*/
/* autoportrait text nodes loading  */
/*----------------------------------*/
.loading-spinner{
	position: fixed;
	bottom: 20px;
	left: 0;
	z-index: 2;
	width: 100%;
	text-align: center;
}

.spinner-wrapper{
	width: 100px;
	height: 100px;
}

.spinner {
	height: 100%;
	width: 100%;
	position: absolute;
	top: 0;
	left: 0;
  animation: rotate 2s linear infinite;
	transform-origin: center center;
}

.spinner-color {
	stroke-dasharray: 1, 200;
	stroke-dashoffset: 0;
	animation: dash 1.5s ease-in-out infinite;
	stroke-linecap: round;
	stroke: var(--emphasis-color);
}

@keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }
	50% {
	  stroke-dasharray: 89, 200;
	  stroke-dashoffset: -35px;
	}
	100% {
	  stroke-dasharray: 89, 200;
	  stroke-dashoffset: -124px;
	}
}